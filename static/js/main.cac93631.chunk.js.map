{"version":3,"sources":["components/Lista.jsx","index.js"],"names":["Lista","state","data","modalopen","modalA","modalD","indexCartao","username","userid","cards","card_number","cvv","expiry_date","a","this","handleChange","bind","validForm","bodyApi","fetch","response","console","log","json","body","setState","event","target","value","user","name","id","document","querySelector","innerHTML","elemento","valor","parseInt","replace","length","worth","spanError","eventerror","toLocaleString","style","currency","parseFloat","innerText","axios","post","card","destination_user_id","then","catch","error","users","map","className","src","img","alt","onClick","openModal","display","color","htmlFor","onKeyPress","mask","type","placeholder","onChange","i","substr","Component","rootComponent","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.cac93631.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport './lista.css'\r\n\r\nimport axios from \"axios\";\r\nexport default class Lista extends Component {\r\n\r\n\r\n    state = {\r\n        data: [],\r\n        modalopen: (false),\r\n        modalA: (false),\r\n        modalD: (false),\r\n        indexCartao: \"\",\r\n        username: \"\",\r\n        userid: \"\",\r\n        cards: [\r\n            // valid card\r\n            {\r\n                card_number: '1111111111111111',\r\n                cvv: 789,\r\n                expiry_date: '01/18',\r\n            },\r\n            // invalid card\r\n            {\r\n                card_number: '4111111111111234',\r\n                cvv: 123,\r\n                expiry_date: '01/20',\r\n            },\r\n        ]\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.validForm = this.validForm.bind(this);\r\n\r\n        let bodyApi = this.state\r\n\r\n        const api = 'https://www.mocky.io/v2/5d531c4f2e0000620081ddce'\r\n\r\n        const response = await fetch(api)\r\n        console.log(\" res: \", response)\r\n\r\n        const body = await response.json();\r\n        console.log(\"body:\", body);\r\n\r\n        bodyApi.data = body\r\n\r\n        this.setState(bodyApi)\r\n\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        console.log(\"event.target.value \", event.target.value)\r\n\r\n        this.setState({ indexCartao: event.target.value });\r\n    }\r\n\r\n\r\n    openModal(user) {\r\n        console.log(\"USUARIO SELECIONADO \", user);\r\n\r\n        this.setState({ modalopen: true, username: user.name, userid: user.id })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    mask() {\r\n        document.querySelector(\".spanError\").innerHTML = \"\";\r\n\r\n        let elemento = document.querySelector(\"#worthPayment\");\r\n        let valor = elemento.value;\r\n\r\n        valor = valor + '';\r\n        valor = parseInt(valor.replace(/[\\D]+/g, ''));\r\n        valor = valor + '';\r\n        valor = valor.replace(/([0-9]{2}$)/g, \",$1\");\r\n\r\n        if (valor.length > 6) {\r\n            valor = valor.replace(/([0-9]{3}),([0-9]{2}$)/g, \".$1,$2\");\r\n        }\r\n        elemento.value = valor\r\n\r\n        if (valor === 'NaN') {\r\n            elemento.value = '';\r\n        }\r\n\r\n        if (valor === 'null') {\r\n            elemento.value = '';\r\n        }\r\n\r\n    }\r\n\r\n    validForm() {\r\n\r\n        console.log(\"indexCartao \", this.state.indexCartao);\r\n        console.log(\"CARTAO SELECIONADO \", this.state.cards[this.state.indexCartao]);\r\n\r\n        let worth = document.querySelector(\"#worthPayment\").value;\r\n        let spanError = document.querySelector(\".spanError\");\r\n        let eventerror = false;\r\n        // let modalReturn = document.getElementById('cards').value;\r\n\r\n\r\n\r\n        if (worth === \"\") {\r\n\r\n            eventerror = true;\r\n            spanError.innerHTML = \"Digite O Valor\"\r\n\r\n        }\r\n\r\n        if (!eventerror) {\r\n\r\n            if (this.state.indexCartao === '1') {\r\n\r\n\r\n                worth = worth.replace(\".\", \"\").replace(\",\", \".\").toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })\r\n\r\n                worth = parseFloat(worth)\r\n\r\n                document.querySelector('#worthPayment').innerText = \"R$ 0,00\";\r\n\r\n                this.setState({ modalA: true })\r\n\r\n                console.log('cartao ok')\r\n                console.log(worth)\r\n\r\n                axios.post(\"https://run.mocky.io/v3/533cd5d7-63d3-4488-bf8d-4bb8c751c989\",\r\n                    // Card Info\r\n                    {\r\n                        card: (this.indexCartao),\r\n\r\n                        // Destination User ID\r\n                        destination_user_id: (this.state.userid),\r\n\r\n                        // Value of the Transaction\r\n                        value: (worth),\r\n                    })\r\n                    .then(function (response) {\r\n                        console.log(response);\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.error(error);\r\n                    });\r\n\r\n                    \r\n\r\n            }\r\n\r\n            if (this.state.indexCartao === '0') {\r\n\r\n                this.setState({ modalD: true })\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n        const users = this.state.data\r\n\r\n        return (\r\n            <>\r\n                <div >{users.map((user) =>\r\n                    <div className=\"containerList\" >\r\n                        <p className=\"usersList\">\r\n                            <p className=\"containerImg\"><div className=\"idUser\"><strong > ID:</strong>{user.id}</div><img className=\"img\" src={user.img} alt=\"\" />\r\n                                <div className=\"userName\"><strong> {user.username} </strong></div>\r\n                            </p>\r\n\r\n                            <p className=\"h2\"> NOME: {user.name}</p>\r\n\r\n                            <div className=\"divButton\">\r\n                                <button onClick={() => this.openModal(user)} className=\"button\" >Pagar</button>\r\n                            </div>\r\n                        </p>\r\n                    </div>)}\r\n\r\n                </div>\r\n\r\n                {/* MODAL DE SELECAO DE CARTOES */}\r\n\r\n                <div onClick={() => { this.setState({ modalopen: false, modalA: false, modalD: false }) }} style={{ display: this.state.modalopen ? \"block\" : \"none\" }} className=\"backdrop\">\r\n\r\n                </div>\r\n                <div style={{ display: this.state.modalopen ? \"flex\" : \"none\" }} className='cardsModal'>\r\n                    <label style={{ color: \"blueviolet\" }}>Pagando {this.state.username}</label>\r\n                    <div className=\"inputPayment\" >\r\n                        <label htmlFor=\"worthPayment\">Valor Do Pagamento</label><br />\r\n                        <input onKeyPress={this.mask} id=\"worthPayment\" type=\"text\" placeholder=\"R$  DIGITE O VALOR\" />\r\n                    </div>\r\n                    <div style={{ color: 'red' }} className=\"spanError\"></div>\r\n\r\n                    <div className=\"selectCard\">\r\n                        <label htmlFor=\"cardsLabel\">Selecione o Cartao</label> <br />\r\n                        <select onChange={this.handleChange} >\r\n                            {this.state.cards.map((card, i) =>\r\n                                <option value={i}> Cartao Com Final: {card.card_number.substr(-4)}</option>)}\r\n                        </select><br />\r\n                        <div>\r\n\r\n                            <button onClick={this.validForm} className=\"second_button\">Pagar</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                {/* MODAL DE PAGAMENTO REALIZADO COM SUCESSO */}\r\n\r\n                <div className=\"modalA\" style={{ display: this.state.modalA ? \"flex\" : \"none\" }} >\r\n                    Pagamento Realizado com Sucesso\r\n                </div>\r\n\r\n                {/* MODAL DE PAGAMENTO COM FALHA */}\r\n\r\n                <div className=\"modalD\" style={{ display: this.state.modalD ? \"flex\" : \"none\" }} >\r\n                    Pagamento NAO Realizado\r\n                </div>\r\n\r\n\r\n            </>\r\n        )\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}","import ReactDOM from \"react-dom\"\r\n// import HeaderHero from \"./components/firstHeader\"\r\nimport Lista from \"./components/Lista\"\r\n// import App from \"./components/Lista\"\r\n\r\n\r\n\r\n\r\n\r\nconst rootComponent = document.getElementById(\"root\")\r\n\r\nReactDOM.render(\r\n\r\n   <div>\r\n\r\n      <Lista /> \r\n\r\n   </div>\r\n\r\n   , rootComponent)"],"sourceRoot":""}